# SPDX-License-Identifier: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/spmi/hisilicon,hisi-spmi-controller.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: HiSilicon SPMI controller

maintainers:
  - Mauro Carvalho Chehab <mchehab+huawei@kernel.org>

description: |
  The HiSilicon SPMI controller is found on some Kirin-based designs.
  It is a MIPI System Power Management (SPMI) controller.

  The PMIC part is provided by
  Documentation/devicetree/bindings/mfd/hisilicon,hi6421-spmi-pmic.yaml.

properties:
  $nodename:
    pattern: "spmi@[0-9a-f]"

  compatible:
    const: hisilicon,spmi-controller

  reg:
    maxItems: 1

  "#address-cells":
    const: 2

  "#size-cells":
    const: 0

  spmi-channel:
    const: number of the SPMI channel where the PMIC is connected

patternProperties:
  "^pmic@[0-9a-f]$":
    $ref: "/schemas/mfd/hisilicon,hi6421-spmi-pmic.yaml#"

examples:
  - |
    spmi: spmi@fff24000 {
      compatible = "hisilicon,spmi-controller";
      #address-cells = <2>;
      #size-cells = <0>;
      status = "ok";
      reg = <0x0 0xfff24000 0x0 0x1000>;
      spmi-channel = <2>;

      /* pmic properties */

    };
